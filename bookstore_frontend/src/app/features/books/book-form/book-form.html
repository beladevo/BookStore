<h2>{{ isEdit ? 'Edit Book' : 'Add New Book' }}</h2>

<form [formGroup]="form" (ngSubmit)="save()">
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>ISBN</mat-label>
    <input matInput formControlName="isbn" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Title</mat-label>
    <input matInput formControlName="title" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Authors (comma separated)</mat-label>
    <input matInput formControlName="authors" />
  </mat-form-field>

  <app-category-select
    [label]="'Category'"
    formControlName="category"
  ></app-category-select>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Year</mat-label>
    <input matInput formControlName="year" type="number" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Price</mat-label>
    <input matInput formControlName="price" type="number" />
  </mat-form-field>

  <div class="actions">
    <div class="left">
      <button
        matButton="filled"
        color="primary"
        type="submit"
        [disabled]="form.invalid"
      >
        {{ isEdit ? 'Save' : 'Create' }}
      </button>
      <button mat-button color="accent" type="button" (click)="cancel()">
        Cancel
      </button>
    </div>
    <div class="right" *ngIf="isEdit">
      <button mat-stroked-button class="error" type="button" (click)="delete()">
        <mat-icon>delete</mat-icon>
        Delete
      </button>
    </div>
  </div>
</form>
